<div style=":focus {outline:0;}" onmouseenter="showQuantityControl('<%= product.id %>')" onmouseleave="hideQuantityControl('<%= product.id %>')" class="row">
  <div class="col-xs-12">
    <div class="card product-info" style="width: 250px; height: 250px; background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.2)), url('https://unsplash.it/250/250');">
      <div class="card-category" id='<%= product.id %>'> </div>
      <div data-product-id="<%= product.id %>" data-quantity=0 class="quantity-control" id='quantity-<%= product.id %>'>
        <span onclick="subtractOne('<%= product.id %>')" class="square subtract"> - </span>
        <span onclick="addOne('<%= product.id %>')" class="square add" style=""> +ADD </span>
      </div>
      <!-- <img class="card-user avatar" src=""> -->
    </div>
    <div class="product-card">
      <h4><%= product.name %></h4>
      <p> product description / price</p>
    </div>
  </div>
</div>


<% content_for(:after_js) do %>
  <script>

    var orderProducts = {}

    function addOne(id) {
      var newQuantity = $('#quantity-' + id).data('quantity') + 1
      $('#quantity-' + id).data('quantity', newQuantity);
      console.log(  $('#quantity-' + id).data('quantity')  );

    };

    function subtractOne(id) {
      var quantity = $('#quantity-' + id).data('quantity')
      if ( quantity > 0 ) {
        var newQuantity = quantity - 1
        $('#quantity-' + id).data('quantity', newQuantity)
      }
      else {
        $('#quantity-' + id).data('quantity', 0)
      }
      var subtractQuantity = $('#quantity-' + id).data('quantity') - 1
      $('#quantity-' + id).data('quantity', newQuantity)
      console.log(  $('#quantity-' + id).data('quantity')  );

    };

    // define functions below
    function addItem(id) {
      $.ajax({
        type:'GET',
        url:'/orders/claim',
        data: { id: id },
        success:function(){
          console.log("Done");
        }
      });
      $('#' + 'confirm-' + id).hide();
      $('#' + 'container-' + id).slideUp();
    }

    $('.quantity-control').hide();

    function showQuantityControl(id) {
      $('#' + 'quantity-' + id).show();
    }

    function hideQuantityControl(id) {
      $('#' + 'quantity-' + id).hide();
    }

    function hideThis(id) {
      $("#" + id).parent('div').hide();
      $('#' + 'card-' + id).removeClass('fade');
    }

    function showThis(id) {
      $("#" + id).parent('div').fadeIn();
    }

  </script>
<% end %>
